[
    {
        "text": "If you imagine the scenario that you are in an office with lots of people who you quite like, but not enough",
        "start": 0.62,
        "duration": 5.62
    },
    {
        "text": "to spend time and money on getting them an individual gift, a Secret Santa is the perfect way around that. Because what you do,",
        "start": 6.609,
        "duration": 7.25
    },
    {
        "text": "everybody puts their names into a hat,",
        "start": 14.32,
        "duration": 2.0
    },
    {
        "text": "everyone picks a single name out of a hat, and you buy one crappy present",
        "start": 16.33,
        "duration": 4.49
    },
    {
        "text": "for just one person in the office, then everyone gets to walk away with a crappy present. The important thing, though,",
        "start": 21.97,
        "duration": 5.6
    },
    {
        "text": "about Secret Santa, is",
        "start": 27.67,
        "duration": 2.0
    },
    {
        "text": "kind of clue's in the name. It is supposed to be secret. Nobody is supposed to know who bought",
        "start": 29.769,
        "duration": 4.55
    },
    {
        "text": "anybody else's present, apart from the one that you buy. Everything is completely anonymous. That's sort of a",
        "start": 34.87,
        "duration": 4.4
    },
    {
        "text": "fundamental rule of, of the Secret Santa agreement.",
        "start": 39.489,
        "duration": 2.75
    },
    {
        "text": "I guess it's so you can get away with buying basically junk for other people.",
        "start": 42.24,
        "duration": 4.709
    },
    {
        "text": "I mean they're always crummy, they're always crummy, aren't they? Because people don't really know you. So it's always like,",
        "start": 46.949,
        "duration": 4.931
    },
    {
        "text": "bath bubbles! Hooray!",
        "start": 52.22,
        "duration": 2.04
    },
    {
        "text": "Or, like, I don't know, a book on numbers.",
        "start": 55.24,
        "duration": 2.82
    },
    {
        "text": "Brady: \"What about?! You churn out books on numbers!\"",
        "start": 60.48,
        "duration": 2.26
    },
    {
        "text": "I know. I know that's true.",
        "start": 63.34,
        "duration": 3.26
    },
    {
        "text": "But, yeah, like an encyclopedia of numbers, you know?",
        "start": 67.24,
        "duration": 3.14
    },
    {
        "text": "Brady: \"Right, because you're the math person.\"",
        "start": 70.38,
        "duration": 2.0
    },
    {
        "text": "Yeah, exactly, exactly. Or like, you know, there's a,",
        "start": 72.4,
        "duration": 2.46
    },
    {
        "text": "there's a guy who's a geographer here, and every single time he always gets something with a map on it.",
        "start": 74.86,
        "duration": 4.22
    },
    {
        "text": "Just a generic bland map. Because obviously he must love maps.",
        "start": 79.08,
        "duration": 2.969
    },
    {
        "text": "I think there are two fundamental things that you need for a perfect secret Secret Santa: 1) total anonymity,",
        "start": 82.049,
        "duration": 6.09
    },
    {
        "text": "and 2) everyone should have an equal probability of being selected by anybody else, right?",
        "start": 88.659,
        "duration": 5.3
    },
    {
        "text": "Those are kind of two fundamental things. Now the normal way that you do this,",
        "start": 94.119,
        "duration": 4.1
    },
    {
        "text": "of everybody writing their name down putting in a big bowl and picking a name of a hat, fails on both of those fronts.",
        "start": 98.4,
        "duration": 5.52
    },
    {
        "text": "Okay, so imagine you've got everybody who's involved in your Secret Santa sitting around a table.",
        "start": 104.38,
        "duration": 4.16
    },
    {
        "text": "Everybody writes their own name onto a piece of paper and drops it into a bowl in the middle.",
        "start": 108.7,
        "duration": 3.739
    },
    {
        "text": "And then that bowl is passed around the table and people pick out names of who they're gonna buy the gift for.",
        "start": 112.44,
        "duration": 6.02
    },
    {
        "text": "If they pull out their own name, though, they read it and replace it back in the bowl, and then pick another name.",
        "start": 118.46,
        "duration": 5.24
    },
    {
        "text": "By doing that, you have to sort of consider the situation where the last person around the table picks out their own name.",
        "start": 123.7,
        "duration": 6.92
    },
    {
        "text": "Now if they do that, what, how do you solve it without violating the rule of anonymity?",
        "start": 131.32,
        "duration": 6.38
    },
    {
        "text": "Because they can't swap it with anyone else,",
        "start": 138.04,
        "duration": 2.1
    },
    {
        "text": "because by doing so, they would know exactly who is buying them a present.",
        "start": 140.34,
        "duration": 3.56
    },
    {
        "text": "So, the only real fair thing to do in that situation",
        "start": 144.18,
        "duration": 2.22
    },
    {
        "text": "is to scrap whole thing, start all over again. There's quite a good chance of that happening.",
        "start": 146.4,
        "duration": 3.48
    },
    {
        "text": "So, if you have twenty people sitting around your table,",
        "start": 149.88,
        "duration": 2.309
    },
    {
        "text": "there's a 4% chance that the last person will pull their own name,",
        "start": 152.29,
        "duration": 3.47
    },
    {
        "text": "and you have to scrap it, and completely start all over again. If the second to last person pulls their name, if the third to last person",
        "start": 155.76,
        "duration": 5.58
    },
    {
        "text": "pulls their name, you know, all sorts of anonymity issues can be violated.",
        "start": 161.34,
        "duration": 4.72
    },
    {
        "text": "The chance of anybody pulling anybody else's name is not uniform.",
        "start": 166.7,
        "duration": 4.44
    },
    {
        "text": "It depends on where you're sitting around that table. Because what you're looking for in this scenario,",
        "start": 171.34,
        "duration": 4.52
    },
    {
        "text": "you are looking for something called a derangement.",
        "start": 176.02,
        "duration": 3.66
    },
    {
        "text": "So it's a type of permutation where nobody ends up with their own name, effectively.",
        "start": 180.04,
        "duration": 5.18
    },
    {
        "text": "Okay, so imagine you've just got three people playing. You've got A, B and C. Now even though there are six ways",
        "start": 185.48,
        "duration": 5.88
    },
    {
        "text": "that this can be reordered, there are only two extra permutations here that could work for Secret Santa.",
        "start": 191.77,
        "duration": 6.559
    },
    {
        "text": "Two derangements, they're called. So there are other permutations, of course.",
        "start": 198.33,
        "duration": 3.36
    },
    {
        "text": "But the problem is, is that any of these three, in every case, somebody, if they're sitting around table in A, B and C,",
        "start": 201.69,
        "duration": 6.569
    },
    {
        "text": "somebody will end up with their own name. So this column here is kind of who that person is pulling out.",
        "start": 208.959,
        "duration": 4.01
    },
    {
        "text": "So if A is the first person on the table, they're going to pick their own name in this permutation,",
        "start": 212.97,
        "duration": 4.019
    },
    {
        "text": "B will pick their own name in this permutation, and C will pick their own name in that permutation.",
        "start": 217.18,
        "duration": 3.8
    },
    {
        "text": "So none of those are allowed. None of those are allowable Secret Santas.",
        "start": 220.98,
        "duration": 3.2
    },
    {
        "text": "The question is, how likely is it that each of the people end up",
        "start": 224.78,
        "duration": 4.1
    },
    {
        "text": "buying for a particular person? And it turns out that the order that you're sitting around the table",
        "start": 229.06,
        "duration": 4.699
    },
    {
        "text": "makes a difference to that. A picks first, then B goes second, and C goes third.",
        "start": 234.3,
        "duration": 5.86
    },
    {
        "text": "So, if we think about the bowl of names for A, we know that if A picks out",
        "start": 240.16,
        "duration": 4.74
    },
    {
        "text": "their own name, he's going to replace it. Or she.",
        "start": 244.98,
        "duration": 3.6
    },
    {
        "text": "They replace it back in the bowl.",
        "start": 249.46,
        "duration": 1.74
    },
    {
        "text": "So really there's only two things that, that A can, can pick out",
        "start": 251.2,
        "duration": 3.83
    },
    {
        "text": "from that bowl, and then Secret Santa carry on. So that's either B or C. And there's a probability of a half in each case.",
        "start": 255.1,
        "duration": 5.479
    },
    {
        "text": "Brady: \"Because if they pick A it's a non-game.\"",
        "start": 260.58,
        "duration": 2.34
    },
    {
        "text": "Exactly.",
        "start": 262.92,
        "duration": 1.7
    },
    {
        "text": "They read their own name, put it back in the bowl, and then pick again. Okay, so if A ends up picking out B,",
        "start": 264.62,
        "duration": 6.2
    },
    {
        "text": "now it's B's go. So B's already out of the pile. So there's only two names left, and either one that B",
        "start": 270.9,
        "duration": 6.259
    },
    {
        "text": "can pick is totally fine.",
        "start": 277.159,
        "duration": 1.111
    },
    {
        "text": "They're either going to pick A or C. And each of those has probability of a half. However, if A has picked B",
        "start": 278.27,
        "duration": 5.82
    },
    {
        "text": "and B has picked A,",
        "start": 284.09,
        "duration": 1.449
    },
    {
        "text": "there's only one name left for C to pick from, which is their own name. And that, my friend, is a fail.",
        "start": 285.539,
        "duration": 6.559
    },
    {
        "text": "There's a failed Secret Santa. Which means the only fair thing to do, if you want to preserve",
        "start": 292.099,
        "duration": 3.96
    },
    {
        "text": "everyone's anonymity, is to start all over again from scratch,",
        "start": 296.19,
        "duration": 2.419
    },
    {
        "text": "put your names back in the hat, and then",
        "start": 299.34,
        "duration": 2.149
    },
    {
        "text": "start from the beginning. If, instead, B ends up picking C, then we're okay.",
        "start": 302.009,
        "duration": 3.83
    },
    {
        "text": "There's only one name left in the hat, and that is A's name, and that's absolutely fine.",
        "start": 306.199,
        "duration": 3.63
    },
    {
        "text": "And that's got a probability of happening of 1. So, that's if A ended up picking B in the first place.",
        "start": 309.83,
        "duration": 5.429
    },
    {
        "text": "If A ends up picking C, you can still work this through, but there's less going on in this case.",
        "start": 316.05,
        "duration": 4.76
    },
    {
        "text": "There's only two names left in the hat, it's B and A.",
        "start": 320.81,
        "duration": 2.759
    },
    {
        "text": "B can't pick themselves. If they did, they'd read it, put it back, which means that",
        "start": 323.759,
        "duration": 3.83
    },
    {
        "text": "B really only has one name that they can pick out, and the Secret Santa continue, which has to be A.",
        "start": 327.59,
        "duration": 5.549
    },
    {
        "text": "And that's gonna happen probability of 1.",
        "start": 333.86,
        "duration": 2.26
    },
    {
        "text": "Which means now, once you get to C, there's only one name in the hat, and it's B's name.",
        "start": 336.12,
        "duration": 3.78
    },
    {
        "text": "Which also happens with probability of 1.",
        "start": 341.129,
        "duration": 3.23
    },
    {
        "text": "Okay, so, now you've got these, there's one failure, one absolutely fine derangement that works for Secret Santa, here, and another one here,",
        "start": 344.36,
        "duration": 7.109
    },
    {
        "text": "but you can work out the",
        "start": 351.469,
        "duration": 1.42
    },
    {
        "text": "probabilities of each of these happening, if you kind of travel down these arms of the tree.",
        "start": 352.889,
        "duration": 3.991
    },
    {
        "text": "This permutation here of C-A-B",
        "start": 356.88,
        "duration": 2.6
    },
    {
        "text": "which we have up here, this one here,",
        "start": 359.78,
        "duration": 2.2
    },
    {
        "text": "this one is gonna happen with the probability of a half, because it's a half times 1 times 1. This one here, this,",
        "start": 362.56,
        "duration": 5.44
    },
    {
        "text": "this other successful arm of",
        "start": 368.0,
        "duration": 2.1
    },
    {
        "text": "B-C-A, is gonna happen with the probability of",
        "start": 370.11,
        "duration": 2.929
    },
    {
        "text": "a half times a half, which is a quarter. And then the other branch of this, if you like, is a failure.",
        "start": 373.11,
        "duration": 5.54
    },
    {
        "text": "So you're also gonna fail with the probability of a quarter.",
        "start": 379.14,
        "duration": 4.36
    },
    {
        "text": "Which means that A is much more likely to end up buying for C than they are for B.",
        "start": 383.8,
        "duration": 5.92
    },
    {
        "text": "So even though they're, they're just as likely",
        "start": 390.46,
        "duration": 1.86
    },
    {
        "text": "to pull out the second person's name as they are the third person's name,",
        "start": 393.33,
        "duration": 3.17
    },
    {
        "text": "if they pull out the second person's name, half of the time, the whole thing will then fail,",
        "start": 396.6,
        "duration": 4.1
    },
    {
        "text": "so they'll have to start over from scratch.",
        "start": 400.7,
        "duration": 1.81
    },
    {
        "text": "So what you end up with in this situation is not only the chance of failure, and having to start it all over again,",
        "start": 402.51,
        "duration": 5.389
    },
    {
        "text": "but you also end up with a situation which isn't perfectly random.",
        "start": 408.36,
        "duration": 3.38
    },
    {
        "text": "You don't have an equal chance of buying for other people in the office.",
        "start": 411.74,
        "duration": 3.46
    },
    {
        "text": "Brady: \"So if I'm sitting in a row of three, and I'm the last picker, I know it's most likely that the first picker is buying me a present.\"",
        "start": 415.4,
        "duration": 7.56
    },
    {
        "text": "Yeah, it's twice as likely that the first picker's buying you a present than the second picker.",
        "start": 423.5,
        "duration": 3.66
    },
    {
        "text": "Which might help you when you try and",
        "start": 427.16,
        "duration": 1.59
    },
    {
        "text": "decide where to sit around the table, because,",
        "start": 428.75,
        "duration": 2.0
    },
    {
        "text": "yeah, you don't want, like, some person who's rubbish at presents to be buying for you.",
        "start": 431.25,
        "duration": 4.07
    },
    {
        "text": "So the exact probabilities change",
        "start": 435.32,
        "duration": 1.9
    },
    {
        "text": "depending on how many people you have, but the, the overall idea is the same. That the probability of",
        "start": 437.22,
        "duration": 5.809
    },
    {
        "text": "you buying for a person later on if you go first",
        "start": 443.19,
        "duration": 3.889
    },
    {
        "text": "is different to the probability of you buying for somebody earlier on the tree. Um, so overall, I mean, I think",
        "start": 447.36,
        "duration": 4.46
    },
    {
        "text": "this version of Secret Santa is pretty rubbish, really. It's got two massive problems with it.",
        "start": 452.42,
        "duration": 4.7
    },
    {
        "text": "So what you could do if you wanted, you wait until everyone's got a name, everyone's picked a name out of the hat,",
        "start": 457.46,
        "duration": 4.62
    },
    {
        "text": "and that's when you look at it,",
        "start": 462.6,
        "duration": 1.43
    },
    {
        "text": "and that's when you decide if, if somebody's got their own name. You call a failure,",
        "start": 464.03,
        "duration": 4.38
    },
    {
        "text": "and you start all over again.",
        "start": 468.41,
        "duration": 1.27
    },
    {
        "text": "Unfortunately that one's got a 37 percent chance of failing,",
        "start": 469.68,
        "duration": 2.51
    },
    {
        "text": "and a 5 percent chance of failing more than three times in a row, by which time I think people are gonna be",
        "start": 472.44,
        "duration": 5.089
    },
    {
        "text": "less keen to buy each other presents, and maybe just want to call it a day.",
        "start": 477.66,
        "duration": 4.9
    },
    {
        "text": "However, we've got a solution. We've got a Secret Santa system that does actually work. Okay, what you do now",
        "start": 483.22,
        "duration": 5.1
    },
    {
        "text": "if you want the perfect Secret Santa setup, you create a series of cards.",
        "start": 488.94,
        "duration": 3.739
    },
    {
        "text": "The cards are kind of split in two. And at the top of the card, you write: you are number 4,",
        "start": 492.74,
        "duration": 7.06
    },
    {
        "text": "and on the bottom of card, you write: you are buying for number 4.",
        "start": 500.24,
        "duration": 5.34
    },
    {
        "text": "So whatever the number is on top, the same number is on bottom. So you do lots of cards, you do one for",
        "start": 505.88,
        "duration": 3.76
    },
    {
        "text": "each person. So if you've got 20 people, you write 20 cards. If you've got, whatever,",
        "start": 509.65,
        "duration": 3.419
    },
    {
        "text": "three people, you write three cards. You get all of these cards, you lay them on a table,",
        "start": 513.62,
        "duration": 3.77
    },
    {
        "text": "shuffle them all around, so you have no idea what order they're in, and then, when you're happy that they're neatly shuffled,",
        "start": 517.82,
        "duration": 5.27
    },
    {
        "text": "you go along with a pair of scissors and cut the cards in two.",
        "start": 523.72,
        "duration": 3.94
    },
    {
        "text": "So now you have no idea",
        "start": 527.96,
        "duration": 1.74
    },
    {
        "text": "what cards are next to each other, and you're kind of cutting along the line. And these scissors that everyone draws in school?",
        "start": 529.7,
        "duration": 4.94
    },
    {
        "text": "How do they do them? Like that? They go?",
        "start": 534.64,
        "duration": 2.0
    },
    {
        "text": "That's my scissors.",
        "start": 536.9,
        "duration": 2.36
    },
    {
        "text": "It's not great.",
        "start": 539.84,
        "duration": 1.62
    },
    {
        "text": "You go along and you cut them all up. Now at that point,",
        "start": 541.46,
        "duration": 2.57
    },
    {
        "text": "you can create your derangement. And you can do that just by shifting",
        "start": 544.42,
        "duration": 4.54
    },
    {
        "text": "the top half of all of the cards along by one. By doing that, you're guaranteeing that the",
        "start": 549.38,
        "duration": 5.42
    },
    {
        "text": "number on the top of the card isn't gonna match the number on the bottom of the card.",
        "start": 554.96,
        "duration": 3.32
    },
    {
        "text": "So you've definitely got a derangement, definitely got a Secret Santa system that works.",
        "start": 558.28,
        "duration": 3.539
    },
    {
        "text": "But, also, because you shuffled them, you have no idea",
        "start": 562.01,
        "duration": 3.289
    },
    {
        "text": "what numbers are matching with what numbers. So the next step, everybody",
        "start": 565.3,
        "duration": 3.45
    },
    {
        "text": "who's playing Secret Santa comes along, picks up",
        "start": 568.75,
        "duration": 2.07
    },
    {
        "text": "a new whole card, so top and bottom half that are now matched up together. Say you pick one up",
        "start": 571.06,
        "duration": 5.48
    },
    {
        "text": "and it says you are number 3",
        "start": 576.549,
        "duration": 2.251
    },
    {
        "text": "and you're buying for number 27. Then the final thing that happens is",
        "start": 578.8,
        "duration": 3.78
    },
    {
        "text": "that you write a list of all of the numbers, put it on the wall of the office or whatever, everyone then comes along,",
        "start": 582.68,
        "duration": 5.869
    },
    {
        "text": "they know what number they are,",
        "start": 588.549,
        "duration": 1.451
    },
    {
        "text": "because the card that they picked up would have told them, and then they come along and then they write their name.",
        "start": 590.0,
        "duration": 3.82
    },
    {
        "text": "Everyone now knows their own number,",
        "start": 594.22,
        "duration": 2.82
    },
    {
        "text": "they know the person they're buying for, but they have no idea who else is buying for anyone else in the Secret Santa system,",
        "start": 597.04,
        "duration": 6.18
    },
    {
        "text": "and everyone has an equal chance of buying for everybody else.",
        "start": 603.22,
        "duration": 3.809
    },
    {
        "text": "I mean there is a final",
        "start": 607.85,
        "duration": 1.92
    },
    {
        "text": "way that you could do this, it's a bit simpler, which is just to go online and use one of the free apps.",
        "start": 609.77,
        "duration": 4.65
    },
    {
        "text": "But, this is much nicer.",
        "start": 614.48,
        "duration": 2.7
    },
    {
        "text": "Brady: \"It's fun, you gotta, there gotta be hats and tickets and pulling cards and things.\"",
        "start": 617.48,
        "duration": 4.08
    },
    {
        "text": "Yeah, I agree.",
        "start": 621.56,
        "duration": 1.01
    },
    {
        "text": "Let's do the traditional way, non-computer way.",
        "start": 622.57,
        "duration": 2.99
    },
    {
        "text": "Brady: \"Let me ask you this, mathematician Hannah. Have you ever done this?\"",
        "start": 625.56,
        "duration": 3.7
    },
    {
        "text": "Nope.",
        "start": 629.26,
        "duration": 1.24
    },
    {
        "text": "I'm famously stingy when it comes to buying Christmas presents. I won't get involved.",
        "start": 632.06,
        "duration": 4.46
    },
    {
        "text": "If you're in the market for some gifts, and Hannah hasn't put you off the idea of a mathematics book,",
        "start": 637.34,
        "duration": 5.1
    },
    {
        "text": "these are books that she's written. You could try them out.",
        "start": 643.43,
        "duration": 2.389
    },
    {
        "text": "I'll put links in the description along with links to some Numberphile merchandise",
        "start": 645.82,
        "duration": 3.87
    },
    {
        "text": "you could try, like t-shirts and posters. And if you want to see more of Hannah besides here on Numberphile,",
        "start": 649.69,
        "duration": 4.619
    },
    {
        "text": "why not check out her recent guest appearance on Objectivity? Links for that as well.",
        "start": 654.59,
        "duration": 4.609
    }
]